exports = module.exports;
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.slackInviteWt=e()}}(function(){return function e(n,t,r){function i(a,f){if(!t[a]){if(!n[a]){var u="function"==typeof require&&require;if(!f&&u)return u(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var s=t[a]={exports:{}};n[a][0].call(s.exports,function(e){var t=n[a][1][e];return i(t?t:e)},s,s.exports,e,n,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,t){"use strict";function r(e){return function(n,t){return n?(e.writeHead(500,{"Content-Type":"application/json"}),void e.end(JSON.stringify({error:n.message}))):(e.writeHead(200,{"Content-Type":"application/json"}),void e.end("object"==typeof t?JSON.stringify(t):t))}}var i=e("slack-invite");e("url");n.exports=function(e,n,t){var o=r(t);if("POST"!==n.method)return o(new Error("Invalid HTTP METHOD"));var a=e.data.email,f=e.data.SLACK_TEAM,u=e.data.SLACK_TOKEN;if(!f)return o(new Error("Invalid SLACK_TEAM property."));if(!u)return o(new Error("Invalid SLACK_TOKEN property."));if(!a)return o(new Error("Invalid email address"));var d={email:a,team:f,token:u,channels:"general"};i(d,function(e){return e&&e.body?void o(null,e.body):void o(null,{success:!0})})}},{"slack-invite":2,url:void 0}],2:[function(e,n,t){var r=e("request"),i=function(e,n){var t=e.email,i=(new Date).getTime(),o=e.team,a=e.channels,f=e.token,u="https://"+o+".slack.com/api/users.admin.invite?t="+i;r.post(u,{form:{email:t,channels:a,token:f,set_active:!0,_attempts:1}},function(e,t,r){n(t)})};n.exports=i},{request:void 0}]},{},[1])(1)});